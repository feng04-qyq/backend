# ═══════════════════════════════════════════════════════════════
# v3.3 Production Requirements - 生产环境依赖
# Python 3.10+
# 已解决所有冲突，仅包含核心必需依赖
# ═══════════════════════════════════════════════════════════════

# ============================================================================
# 核心框架 (Web服务器和API)
# ============================================================================
fastapi==0.104.1
uvicorn[standard]==0.24.0
gunicorn==21.2.0
pydantic==2.5.0
python-multipart==0.0.6
websockets==12.0          # WebSocket支持（降级避免冲突）

# ============================================================================
# 数据库 (PostgreSQL)
# ============================================================================
sqlalchemy==2.0.23
psycopg2-binary==2.9.9
alembic==1.13.0

# ============================================================================
# 认证和安全
# ============================================================================
cryptography>=41.0.0,<44.0.0  # 兼容 PBKDF2HMAC API
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-dotenv==1.0.0

# ============================================================================
# HTTP客户端
# ============================================================================
requests==2.31.0
httpx==0.25.2            # 固定版本避免冲突
aiohttp==3.9.1

# ============================================================================
# 数据处理
# ============================================================================
pandas>=2.2.0
numpy>=1.26.0

# ============================================================================
# AI决策 (DeepSeek)
# ============================================================================
openai==1.3.7

# ============================================================================
# 加密货币交易所 API
# ============================================================================
pybit>=5.12.0          # Bybit API 客户端（支持base_url参数）

# ============================================================================
# 监控和日志
# ============================================================================
sentry-sdk[fastapi]==1.38.0
prometheus-client==0.19.0
python-json-logger==2.0.7
psutil==5.9.6

# ============================================================================
# 工具库
# ============================================================================
python-dateutil==2.8.2
pytz==2023.3.post1

# ============================================================================
# 可选：缓存和任务队列（如需要）
# ============================================================================
# redis==5.0.1
# celery==5.3.4

# ═══════════════════════════════════════════════════════════════
# 安装说明
# ═══════════════════════════════════════════════════════════════
#
# 基础安装:
#   pip install -r requirements_production.txt
#
# 检查冲突:
#   pip check
#
# 更新所有包:
#   pip install -r requirements_production.txt --upgrade
#
# ═══════════════════════════════════════════════════════════════


